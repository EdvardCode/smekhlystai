<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–º–µ—Ö–ª—ã—Å—Ç</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container {
            text-align: center;
            padding: 20px;
            max-width: 800px;
            width: 100%;
        }
        h1 { font-size: 4em; margin-bottom: 30px; text-shadow: 3px 3px 6px rgba(0,0,0,0.3); }
        button {
            background: #ff6b6b;
            border: none;
            color: white;
            padding: 20px 40px;
            font-size: 1.5em;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.2s;
        }
        button:hover { transform: scale(1.1); }
        .hidden { display: none; }
        .player-list {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .player {
            background: rgba(255,255,255,0.2);
            padding: 10px;
            margin: 10px;
            border-radius: 5px;
            display: inline-block;
            min-width: 150px;
        }
        input {
            padding: 15px;
            font-size: 1.2em;
            border: none;
            border-radius: 5px;
            margin: 10px;
            width: 300px;
        }
        .question {
            font-size: 2em;
            background: rgba(0,0,0,0.3);
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .answer-card {
            background: #ffd93d;
            color: #333;
            padding: 20px;
            margin: 15px;
            border-radius: 10px;
            font-size: 1.3em;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .answer-card:hover { transform: scale(1.05); }
        .score {
            font-size: 1.5em;
            margin: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ú–ï–ù–Æ -->
        <div id="menu" class="screen">
            <h1>üé≠ –°–ú–ï–•–õ–´–°–¢</h1>
            <button onclick="showLobby()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
            <button onclick="showRules()">–ü—Ä–∞–≤–∏–ª–∞</button>
        </div>

        <!-- –ü–†–ê–í–ò–õ–ê -->
        <div id="rules" class="screen hidden">
            <h2>–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</h2>
            <p style="margin: 20px; font-size: 1.2em;">
                1. –í—Å–µ –∏–≥—Ä–æ–∫–∏ –≤–≤–æ–¥—è—Ç —Å–≤–æ–∏ –∏–º–µ–Ω–∞<br>
                2. –ù–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å<br>
                3. –ö–∞–∂–¥—ã–π –ø—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç —Å–º–µ—à–Ω–æ–π –æ—Ç–≤–µ—Ç<br>
                4. –í—Å–µ –≥–æ–ª–æ—Å—É—é—Ç –∑–∞ –ª—É—á—à–∏–µ –æ—Ç–≤–µ—Ç—ã<br>
                5. –ü–æ–±–µ–∂–¥–∞–µ—Ç —Å–∞–º—ã–π —Å–º–µ—à–Ω–æ–π!
            </p>
            <button onclick="showMenu()">–ù–∞–∑–∞–¥</button>
        </div>

        <!-- –õ–û–ë–ë–ò -->
        <div id="lobby" class="screen hidden">
            <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤</h2>
            <div class="player-list" id="playerList">
                <p>–ñ–¥—ë–º –∏–≥—Ä–æ–∫–æ–≤...</p>
            </div>
            <input type="text" id="playerName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
            <br>
            <button onclick="addPlayer()">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
            <button onclick="startGame()" id="startBtn" style="background: #51cf66;">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
            <button onclick="showMenu()">–í—ã—Ö–æ–¥</button>
        </div>

        <!-- –ò–ì–†–ê -->
        <div id="game" class="screen hidden">
            <div class="question" id="question"></div>
            <input type="text" id="answerInput" placeholder="–í–∞—à —Å–º–µ—à–Ω–æ–π –æ—Ç–≤–µ—Ç">
            <br>
            <button onclick="submitAnswer()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>

        <!-- –ì–û–õ–û–°–û–í–ê–ù–ò–ï -->
        <div id="voting" class="screen hidden">
            <h2>–ì–æ–ª–æ—Å—É–π—Ç–µ –∑–∞ –ª—É—á—à–∏–π –æ—Ç–≤–µ—Ç!</h2>
            <div class="question" id="votingQuestion"></div>
            <div id="answersContainer"></div>
        </div>

        <!-- –†–ï–ó–£–õ–¨–¢–ê–¢–´ -->
        <div id="results" class="screen hidden">
            <h1>üèÜ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h1>
            <div id="scoreBoard"></div>
            <button onclick="nextRound()">–°–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥</button>
            <button onclick="showMenu()">–í –º–µ–Ω—é</button>
        </div>
    </div>

    <script>
        let players = [];
        let currentQuestion = 0;
        let answers = [];
        let scores = {};
        
        const questions = [
            "–•—É–¥—à–∏–π –ø–æ–¥–∞—Ä–æ–∫ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è?",
            "–ß—Ç–æ –±—ã –≤—ã –∫—Ä–∏–∫–Ω—É–ª–∏, –ø—Ä—ã–≥–∞—è —Å –ø–∞—Ä–∞—à—é—Ç–æ–º?",
            "–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –∞–≤—Ç–æ–±–∏–æ–≥—Ä–∞—Ñ–∏–∏?",
            "–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–ª–æ–≤–∞ —Å—É–ø–µ—Ä–≥–µ—Ä–æ—è?",
            "–•—É–¥—à–∏–π —Ä–µ–∫–ª–∞–º–Ω—ã–π —Å–ª–æ–≥–∞–Ω?",
            "–ß—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ –≤–∞—à–µ–π —Ñ—É—Ç–±–æ–ª–∫–µ?",
            "–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞?"
        ];

        function showMenu() {
            hideAllScreens();
            document.getElementById('menu').classList.remove('hidden');
        }

        function showRules() {
            hideAllScreens();
            document.getElementById('rules').classList.remove('hidden');
        }

        function showLobby() {
            hideAllScreens();
            document.getElementById('lobby').classList.remove('hidden');
            updatePlayerList();
        }

        function hideAllScreens() {
            document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
        }

        function addPlayer() {
            const name = document.getElementById('playerName').value.trim();
            if (name && !players.includes(name)) {
                players.push(name);
                scores[name] = 0;
                document.getElementById('playerName').value = '';
                updatePlayerList();
            }
        }

        function updatePlayerList() {
            const list = document.getElementById('playerList');
            if (players.length === 0) {
                list.innerHTML = '<p>–ñ–¥—ë–º –∏–≥—Ä–æ–∫–æ–≤...</p>';
            } else {
                list.innerHTML = players.map(p => 
                    `<div class="player">üë§ ${p}</div>`
                ).join('');
            }
        }

        function startGame() {
            if (players.length < 2) {
                alert('–ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 2 –∏–≥—Ä–æ–∫–∞!');
                return;
            }
            hideAllScreens();
            document.getElementById('game').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            const question = questions[currentQuestion % questions.length];
            document.getElementById('question').textContent = question;
            answers = [];
        }

        function submitAnswer() {
            const answer = document.getElementById('answerInput').value.trim();
            if (answer) {
                answers.push(answer);
                document.getElementById('answerInput').value = '';
                
                if (answers.length >= players.length) {
                    showVoting();
                } else {
                    alert(`–û—Ç–≤–µ—Ç –ø—Ä–∏–Ω—è—Ç! (${answers.length}/${players.length})`);
                }
            }
        }

        function showVoting() {
            hideAllScreens();
            document.getElementById('voting').classList.remove('hidden');
            const question = questions[currentQuestion % questions.length];
            document.getElementById('votingQuestion').textContent = question;
            
            const container = document.getElementById('answersContainer');
            container.innerHTML = answers.map((answer, index) => 
                `<div class="answer-card" onclick="vote(${index})">${answer}</div>`
            ).join('');
        }

        function vote(index) {
            // –ü—Ä–æ—Å—Ç–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ - –º–æ–∂–Ω–æ —É—Å–ª–æ–∂–Ω–∏—Ç—å
            const randomPlayer = players[Math.floor(Math.random() * players.length)];
            scores[randomPlayer] += 100;
            showResults();
        }

        function showResults() {
            hideAllScreens();
            document.getElementById('results').classList.remove('hidden');
            
            const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
            document.getElementById('scoreBoard').innerHTML = sorted.map((entry, index) => 
                `<div class="score">${index + 1}. ${entry[0]}: ${entry[1]} üèÜ</div>`
            ).join('');
        }

        function nextRound() {
            currentQuestion++;
            if (currentQuestion >= questions.length) {
                alert('–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!');
                showMenu();
                players = [];
                scores = {};
                currentQuestion = 0;
            } else {
                hideAllScreens();
                document.getElementById('game').classList.remove('hidden');
                showQuestion();
            }
        }

        // Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
        document.getElementById('playerName').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') addPlayer();
        });
        
        document.getElementById('answerInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') submitAnswer();
        });
    </script>
</body>
</html>